@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  color-scheme: light;
  --pv-primary: #3f00e9;
  --pv-primary-2: #c947ff;
  --pv-gradient: linear-gradient(90deg, var(--pv-primary), var(--pv-primary-2));
  --pv-bg: #ffffff;
  --pv-surface: #f7f7fb;
  --pv-text: #111111;
  --pv-text-muted: #666666;
  --pv-border: #e6e6ef;
  --pv-success: #10b981;
  --pv-warning: #f59e0b;
  --pv-danger: #ef4444;
  --pv-ring: var(--pv-primary);
  --pv-shadow: 0 8px 24px rgba(0, 0, 0, 0.08);
  --pv-overlay-strong: rgba(255, 255, 255, 0.82);
  --pv-overlay-soft: rgba(255, 255, 255, 0.65);
  --pv-overlay-glow: rgba(169, 173, 255, 0.45);
  --pv-radius: 1rem;
  --pv-radius-sm: 0.5rem;
  --pv-radius-lg: 1.5rem;

  /* Sale/Promo Colors */
  --pv-sale: #ff3366;
  --pv-sale-dark: #e6194b;
  --pv-sale-glow: rgba(255, 51, 102, 0.4);
  --pv-gold: #d4a853;
  --pv-gold-dark: #b8923f;
  --pv-gold-glow: rgba(212, 168, 83, 0.35);
}

.dark {
  color-scheme: dark;
  --pv-bg: #04031a;
  --pv-surface: #111539;
  --pv-text: #f4f6ff;
  --pv-text-muted: #9fa6dd;
  --pv-border: #262d62;
  --pv-shadow: 0 38px 92px -46px rgba(12, 14, 52, 0.8);
  --pv-overlay-strong: rgba(6, 7, 30, 0.88);
  --pv-overlay-soft: rgba(24, 26, 72, 0.68);
  --pv-overlay-glow: rgba(34, 36, 108, 0.5);

  /* Sale/Promo Colors (Dark Mode) */
  --pv-sale: #ff4d7a;
  --pv-sale-dark: #ff3366;
  --pv-gold: #e8b85d;
  --pv-gold-dark: #d4a853;
}

html {
  scroll-behavior: smooth;
}

@layer base {
  * {
    border-color: var(--pv-border);
  }

  body {
    @apply bg-[var(--pv-bg)] font-body text-base leading-[1.625rem] text-[var(--pv-text)];
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-heading font-semibold text-[var(--pv-text)];
  }

  h1 {
    @apply text-[3rem] leading-[3.5rem];
  }

  h2 {
    @apply text-[2.25rem] leading-[2.75rem];
  }

  h3 {
    @apply text-[1.75rem] leading-[2.25rem];
  }

  small {
    @apply text-sm leading-[1.375rem] text-[var(--pv-text-muted)];
  }

  a {
    @apply text-[var(--pv-primary)] transition-colors hover:text-[var(--pv-primary-2)];
  }

  button:focus-visible,
  a:focus-visible,
  input:focus-visible,
  textarea:focus-visible,
  select:focus-visible {
    @apply outline-none ring-2 ring-[var(--pv-ring)] ring-offset-2 ring-offset-[var(--pv-bg)];
  }
  .text-shadow-md {
    text-shadow: 0 10px 35px rgba(0, 0, 0, 0.18);
  }
}

@layer utilities {
  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in {
    animation: fade-in 0.6s ease-out;
  }
}

/* ----------------------------------------------------------------
   Hero Variant Effects
   ---------------------------------------------------------------- */
@layer components {
  /* Shimmer sweep — light travels across surface on hover */
  .btn-shimmer {
    position: relative;
    overflow: hidden;
    isolation: isolate;
  }

  .btn-shimmer::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.25) 50%, transparent);
    transform: translateX(-200%);
    transition: transform 700ms ease-in-out;
    will-change: transform;
  }

  .btn-shimmer:hover::before {
    transform: translateX(200%);
  }

  /* Glow pulse — blurred shadow pulses behind element on hover */
  .btn-glow-pulse {
    position: relative;
    isolation: isolate;
  }

  .btn-glow-pulse::after {
    content: '';
    position: absolute;
    inset: -4px;
    background: inherit;
    border-radius: inherit;
    opacity: 0;
    filter: blur(20px);
    z-index: -1;
    transition: opacity 300ms ease;
    will-change: opacity;
  }

  .btn-glow-pulse:hover::after {
    opacity: 0.55;
    animation: glow-pulse 2s ease-in-out infinite;
  }

  @keyframes glow-pulse {
    0%,
    100% {
      opacity: 0.4;
      filter: blur(20px);
    }
    50% {
      opacity: 0.7;
      filter: blur(26px);
    }
  }

  /* Film grain overlay — SVG noise texture */
  .grain-overlay {
    position: relative;
    isolation: isolate;
  }

  .grain-overlay::after {
    content: '';
    position: absolute;
    inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 512 512' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='3' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
    opacity: 0.03;
    mix-blend-mode: overlay;
    pointer-events: none;
    z-index: 1;
  }

  /* Aurora drift layers — floating gradient orbs
     Light mode: soft pastel blurs for subtle depth
     Dark mode: vivid saturated blurs for immersive feel */
  .aurora-layer {
    position: absolute;
    border-radius: 50%;
    filter: blur(100px);
    will-change: transform;
    pointer-events: none;
  }

  .aurora-layer-1 {
    width: 800px;
    height: 800px;
    background: radial-gradient(circle, var(--pv-primary) 0%, transparent 65%);
    top: -300px;
    left: -200px;
    opacity: 0.12;
    animation: aurora-drift-1 24s ease-in-out infinite;
  }

  .aurora-layer-2 {
    width: 650px;
    height: 650px;
    background: radial-gradient(circle, var(--pv-primary-2) 0%, transparent 65%);
    bottom: -200px;
    right: -150px;
    opacity: 0.1;
    animation: aurora-drift-2 30s ease-in-out infinite;
  }

  .aurora-layer-3 {
    width: 700px;
    height: 700px;
    background: radial-gradient(circle, #7c3aed 0%, transparent 65%);
    top: 40%;
    left: 45%;
    transform: translate(-50%, -50%);
    opacity: 0.08;
    animation: aurora-drift-3 34s ease-in-out infinite;
  }

  /* Dark mode: boost aurora visibility for immersive effect */
  .dark .aurora-layer-1 {
    opacity: 0.45;
  }

  .dark .aurora-layer-2 {
    opacity: 0.4;
  }

  .dark .aurora-layer-3 {
    opacity: 0.25;
  }

  @keyframes aurora-drift-1 {
    0%,
    100% {
      transform: translate(0, 0) scale(1);
    }
    33% {
      transform: translate(120px, 60px) scale(1.12);
    }
    66% {
      transform: translate(-80px, 100px) scale(0.92);
    }
  }

  @keyframes aurora-drift-2 {
    0%,
    100% {
      transform: translate(0, 0) scale(1);
    }
    50% {
      transform: translate(-130px, -90px) scale(1.15);
    }
  }

  @keyframes aurora-drift-3 {
    0%,
    100% {
      transform: translate(-50%, -50%) scale(1);
    }
    25% {
      transform: translate(-44%, -56%) scale(1.08);
    }
    50% {
      transform: translate(-56%, -46%) scale(0.92);
    }
    75% {
      transform: translate(-48%, -52%) scale(1.04);
    }
  }

  /* Dot pattern background */
  .dot-pattern {
    background-image: radial-gradient(circle, var(--pv-border) 1px, transparent 1px);
    background-size: 24px 24px;
  }

  /* Shimmer badge — light sweeps across every 4s */
  .badge-shimmer {
    position: relative;
    overflow: hidden;
  }

  .badge-shimmer::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2) 50%, transparent);
    transform: translateX(-200%);
    animation: shimmer 4s ease-in-out infinite;
    will-change: transform;
  }
}

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}
